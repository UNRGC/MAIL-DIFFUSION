<!DOCTYPE html>
<html lang="es">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <link rel="icon" href="src/img/icon.png" />
        <title>OmniMail</title>
        <!-- Iconos de bootstrap -->
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css" />
        <link rel="stylesheet" href="src/css/index.css" />
        <meta http-equiv="Content-Security-Policy" content="script-src 'self' 'unsafe-inline';" />
    </head>
    <body>
        <main>
            <nav>
                <img src="src/img/logo.png" alt="Logo" width="120" />
                <div>
                    <a href="#connection" id="connection"><i class="bi bi-boxes"></i> Conexión</a>
                    <a href="#console" class="active" id="console"><i class="bi bi-terminal"></i> Consola</a>
                    <a href="#diffusion" id="diffusion"><i class="bi bi-envelope-at"></i> Difusión</a>
                </div>
                <div>
                    <a href="#exit" id="exitBtn"><i class="bi bi-door-open"></i> Salir</a>
                    <p class="version">Versión 1.0.1</p>
                </div>
            </nav>
            <section>
                <form class="connection hidden" id="formConnection">
                    <div class="connection-col">
                        <p><i class="bi bi-database"></i> Conexión con la base de datos</p>
                        <label for="instance">Instancia:</label>
                        <input type="text" name="Instancia" placeholder="Ej: localhost\SQLEXPRESS" id="instance" autocomplete="off" aria-autocomplete="none" required />
                        <label for="user">Usuario:</label>
                        <input type="text" name="Usuario" placeholder="Ej: sa" id="user" autocomplete="off" aria-autocomplete="none" required />
                        <label for="pass">Contraseña:</label>
                        <input type="password" name="Contraseña" placeholder="Escribe la contraseña" id="pass" autocomplete="off" aria-autocomplete="none" required />

                        <label for="dbName" class="hidden" id="dbNameLabel">Base de datos:</label>
                        <input type="text" name="Base de datos" class="hidden" placeholder="Ej: omDirectorio" id="dbName" autocomplete="off" aria-autocomplete="none" />
                    </div>
                    <div class="connection-col">
                        <p><i class="bi bi-envelope-at"></i> Conexión al servicio de correo</p>
                        <label for="email">Correo:</label>
                        <input type="email" name="Correo" placeholder="Ej: alguien@servidor.com" id="email" autocomplete="off" aria-autocomplete="none" required />
                        <label for="password">Contraseña:</label>
                        <input type="password" name="Contraseña" placeholder="Escribe la contraseña" id="password" autocomplete="off" aria-autocomplete="none" required />

                        <label for="host" class="hidden" id="hostLabel">Servidor:</label>
                        <input type="text" name="Servidor" class="hidden" placeholder="Ej: smtp.servidor.com" id="host" autocomplete="off" aria-autocomplete="none" />
                        <label for="organization" class="hidden" id="organizationLabel">Organización:</label>
                        <input type="text" name="Organización" class="hidden" placeholder="Ej: Mi organización" id="organization" autocomplete="off" aria-autocomplete="none" />
                    </div>
                    <div class="input-group">
                        <button type="button" id="discard" disabled><i class="bi bi-trash"></i> Descartar</button>
                        <button type="button" id="advanced" disabled><i class="bi bi-gear"></i> Avanzado</button>
                        <button type="submit" id="save" disabled><i class="bi bi-floppy"></i> Guardar</button>
                    </div>
                </form>
                <article class="console">
                    <p><i class="bi bi-terminal"></i> Salida del servidor</p>
                    <pre id="output"></pre>
                    <button id="clear"><i class="bi bi-arrow-repeat"></i> Limpiar consola</button>
                </article>
                <form class="diffusion hidden" id="formDiffusion">
                    <div class="diffusion-col">
                        <p><i class="bi bi-envelope-at"></i> Cuerpo del correo:</p>
                        <label for="affair">Asunto:</label>
                        <div class="input-group">
                            <input type="text" name="Asunto" id="affair" style="width: calc(100% - 128px)" placeholder="Escribe el asunto del correo" autocomplete="off" aria-autocomplete="none" required />
                            <input type="color" name="color" id="color" value="#006bcd" />
                        </div>
                        <label for="message">Mensaje:</label>
                        <textarea name="Mensaje" rows="5" id="message" placeholder="Escribe el mensaje del correo" autocomplete="off" aria-autocomplete="none" required style="resize: none"></textarea>
                    </div>
                    <div class="diffusion-col">
                        <p><i class="bi bi-file-earmark-text"></i> Formato del correo:</p>
                        <label for="template">Plantilla:</label>
                        <select name="Plantilla" id="template" required>
                            <option value="0" selected disabled>Seleccionar</option>
                        </select>
                        <label for="file">Imagen:</label>
                        <input type="file" id="imageInput" name="file" accept="image/*" />
                        <div class="image">
                            <span id="placeholder"><i class="bi bi-image"></i> Selecciona una imagen</span>
                            <img id="preview" src="src/img/placeholder.png" alt="Selecciona una imagen" />
                        </div>
                    </div>
                    <div class="input-group">
                        <button type="reset" id="cancel"><i class="bi bi-trash"></i> Descartar</button>
                        <button type="submit"><i class="bi bi-envelope"></i> Enviar</button>
                    </div>
                </form>
                <article class="result hidden">
                    <div class="result-col">
                        <p><i class="bi bi-envelope"></i> Resultados de la difusión</p>
                        <table>
                            <thead>
                                <tr>
                                    <th>Razón social</th>
                                    <th>Correos</th>
                                    <th>Estatus</th>
                                </tr>
                            </thead>
                            <tbody id="tbody"></tbody>
                        </table>
                    </div>

                    <button id="return" disabled><i class="bi bi-arrow-left-circle"></i> Cerrar</button>
                </article>
            </section>
        </main>

        <script src="src/js/ipcRenderer.js"></script>
        <script src="src/js/index.js" type="module"></script>
    </body>
</html>
